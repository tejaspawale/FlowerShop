@model MyAssessment.WebMVC.Models.HomeBannerViewModel

@{
    ViewData["Title"] = "Home";
}

<div class="container my-4">
    <div class="row text-center">
        @foreach (var item in Model.Items)
        {
            <div class="col-md-4 mb-4">
                <a asp-controller="@item.Controller" asp-action="@item.Action" class="text-decoration-none text-white">
                    <div class="card border-0">
                        <img src="@item.ImageUrl" class="card-img-top" alt="@item.Title" />
                        <div class="card-footer bg-black text-center">
                            <h4 class="mb-0">@item.Title</h4>
                        </div>
                    </div>
                </a>
            </div>
        }
    </div>
        <!-- Subscription Popup Modal -->
<div class="modal fade" id="subscriptionModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content border-0 shadow-lg">
            
            <!-- Close Button -->
            <button type="button" 
                    class="btn-close position-absolute top-0 end-0 m-3" 
                    data-bs-dismiss="modal"
                    style="z-index: 10;">
            </button>

            <div class="row g-0">
                
                <!-- Left Side: Image -->
                <div class="col-md-6 d-none d-md-block">
                    <img src="~/images/offer-popup.jpg" 
                         alt="Flowers" 
                         class="img-fluid h-100 w-100"
                         style="object-fit: cover;">
                </div>

                <!-- Right Side: Form -->
                <div class="col-md-6 p-4">
                    
                    <div class="mb-3">
                        <div class="text-success fw-bold mb-2">
                            ✓ Filler-Free Bouquets
                        </div>
                        <div class="text-success fw-bold mb-2">
                            ✓ Quality-First
                        </div>
                        <h3 class="fw-bold">Get 10% off your order!</h3>
                        <p class="text-muted">
                            Subscribe to get a coupon now!
                        </p>
                    </div>

                    <form asp-controller="Subscriptions"
                          asp-action="Subscribe"
                          method="post">

                        <div class="mb-3">
                            <input name="Name"
                                   type="text"
                                   class="form-control"
                                   placeholder="Your first name"
                                   required />
                        </div>

                        <div class="mb-3">
                            <input name="Email"
                                   type="email"
                                   class="form-control"
                                   placeholder="Your email address"
                                   required />
                        </div>

                        <button type="submit" 
                                class="btn btn-dark w-100 py-2 fw-bold">
                            SUBSCRIBE
                        </button>

                        <p class="text-muted small mt-3 mb-0">
                            You are subscribing to receive exclusive offers.
                        </p>
                    </form>

                </div>
            </div>

        </div>
    </div>
</div>


    
</div>
@section Scripts {
    <script>
        // Show modal after 5 seconds
        setTimeout(function() {
            
            // Check if already shown this session
            if (!sessionStorage.getItem('popupShown')) {
                
                // Create and show modal
                var modal = new bootstrap.Modal(
                    document.getElementById('subscriptionModal')
                );
                modal.show();
                
                // Remember we showed it
                sessionStorage.setItem('popupShown', 'true');
            }
            
        }, 5000);  // 5000 milliseconds = 5 seconds
    </script>
}

